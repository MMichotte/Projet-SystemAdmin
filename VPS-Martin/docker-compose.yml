version: '3'

services:

  soa-in:
    build: 
      context: ./SOA
      dockerfile: Dockerfile
    ports:
      - "53:53"
      - "53:53/udp"
    volumes:
      - ./SOA-in/named.conf.local:/etc/bind/named.conf
    container_name: soa-in
  
  soa-ext:
    build: 
      context: ./SOA
      dockerfile: Dockerfile
    ports:
      - "5353:53" # PROBELEM ! : le port 53 du host est déjà utilisé.. solution: reverse-proxy ? 
      #- "5353:53/udp" 
    volumes:
      - ./SOA-ext/named.conf.local:/etc/bind/named.conf
    container_name: soa-ext

  #VoIP:

  